function noAjaxException(message){this.name="noAjaxException",this.message=message}function noAjaxPHPException(args){this.name=args.name,this.code=args.code,this.message=args.message,this.file=args.file,this.line=args.line,this.trace=args.trace}var s,noajax={defaultSettings:{serverNamespace:""},init:function(settings){if(s={},!settings.serverEndpoint)throw console.error("serverEndpoint must be provided"),new Error("`serverEndpoint` must be provided");s.serverEndpoint=settings.serverEndpoint,s.serverNamespace=settings.serverNamespace?settings.serverNamespace:this.defaultSettings.serverNamespace},call:function(){if(!arguments.length)throw new noAjaxException("Atleast one argument is required");if("string"!=typeof arguments[0])throw new noAjaxException("First parameter should be the name of the method");var methodName=s.serverNamespace+arguments[0];callback=arguments[arguments.length-1];var otherArgs=Array.prototype.slice.call(arguments);otherArgs.shift(),otherArgs.pop();var args={methodName:methodName,args:otherArgs},xhttp=new XMLHttpRequest;xhttp.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var response=JSON.parse(this.responseText),error=null,result=null;"success"===response.status?result=response.result:"failed"===response.status&&(error=new noAjaxPHPException(response.exception)),callback(error,result)}},xhttp.open("POST",s.serverEndpoint,!0),xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhttp.send("params="+JSON.stringify(args))}};noAjaxPHPException.prototype=Error.prototype,noAjaxException.prototype=Error.prototype;